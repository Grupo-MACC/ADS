# Ejemplo de archivo .env para el ADS Server
# Copia este archivo a .env y rellena los valores

# ============================================
# CONFIGURACIÓN DEL MODELO
# ============================================
LOG_LEVEL=INFO
MODEL_PATH=/app/models/isolation_forest_model_new.joblib
ATTACK_THRESHOLD=0.5

# ============================================
# CONSUL SERVICE DISCOVERY (HTTPS)
# El chassis conecta a Consul para descubrir servicios
# ============================================
# IP del servidor Consul (EC2-Consul)
CONSUL_HOST=10.1.11.40
# Puerto HTTPS de Consul
CONSUL_PORT=8501
# Esquema de conexión
CONSUL_SCHEME=https
# Certificado CA (el chassis hace verify=False por defecto)
CONSUL_CA_FILE=/certs/ca.pem

# ============================================
# CONFIGURACIÓN DE BASE DE DATOS (MySQL/RDS)
# El chassis resuelve el host automáticamente via Consul
# buscando el servicio "rds" registrado
# ============================================
# RDS_HOST se obtiene automáticamente de Consul (servicio "rds")
# Solo configurar si quieres forzar una conexión directa:
# RDS_HOST=tu-rds-endpoint.amazonaws.com
RDS_PORT=3306
DB_NAME=ads_db
DB_USER=admin
DB_PASSWORD=maccadmin

# ============================================
# RESPUESTA AUTOMÁTICA A ATAQUES
# ============================================
# URL del Merger en la máquina de Consul
MERGER_URL=http://consul-ec2-private-ip:8082

# Habilitar/deshabilitar desregistro automático
AUTO_DEREGISTER_ENABLED=true

# Umbral de confianza para desregistro (0.0 - 1.0)
# Solo se desregistran servicios si la confianza >= este valor
AUTO_DEREGISTER_THRESHOLD=0.75
